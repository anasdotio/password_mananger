import{a as g,u as h,b as c,c as b,j as e,L as w,l as j}from"./index-CzuzfLUO.js";import{I as m,B as d}from"./Button-P1pYcRVa.js";import{c as N}from"./createLucideIcon-BmvMvnxD.js";import{u as F,L}from"./hooks-BAhIeXQP.js";import{u as v}from"./index.esm-B2p-UKcf.js";const q=()=>{const{user:s,loading:t,error:r}=g(n=>n.auth),a=F(),o=h(),{register:i,reset:u,handleSubmit:x,formState:{errors:l}}=v();c.useEffect(()=>{s||a(b())},[a,s]),c.useEffect(()=>{s&&o("/passwords",{replace:!0})},[s,o]);const p=async n=>{try{(await a(j(n)).unwrap()).statusCode===200&&(u(),o("/passwords",{replace:!0}))}catch{alert(r||"Something went wrong")}};return e.jsxs("div",{className:"relative flex h-screen w-full items-center justify-center bg-[#101922] p-3",children:[e.jsx("h3",{className:N("absolute inset-x-0 top-0 my-3 text-center font-mono text-xl text-white"),children:"Password Manager"}),e.jsxs("div",{className:"w-full",children:[r&&e.jsx("p",{className:"mb-3 rounded-md border border-red-600 bg-red-500/30 p-2 text-center font-semibold text-red-600",children:r}),e.jsxs("form",{onSubmit:x(p),className:"flex w-full flex-col gap-4",children:[e.jsx("h1",{className:"text-center text-2xl text-white",children:"Login"}),e.jsx(m,{name:"email",type:"email",placeHolder:"Email",className:"bg-[#1F2937] text-white focus:outline-none",...i("email",{required:"Email is required"}),error:l.email?.message}),e.jsx(m,{name:"password",type:"password",placeHolder:"Password",className:"bg-[#1F2937] text-white focus:outline-none",...i("password",{required:"Password is required"}),error:l.password?.message}),e.jsx(d,{isLoading:t,text:t?"logging in...":"Sign In",type:"submit",icon:t&&e.jsx(L,{size:16,className:"animate-spin"}),className:"border-none bg-[#3B82F6] font-sans font-semibold"}),e.jsx("p",{className:"text-center font-sans text-sm text-[#9CA3AF]",children:"Or"}),e.jsx(d,{text:"Continue with Google",className:"cursor-pointer border-[#323C4C] bg-[#1F2937] font-mono font-semibold"})]}),e.jsxs("p",{className:"mt-10 text-center text-[#9CA3AF]",children:["Don't have an account?"," ",e.jsx(w,{className:"font-semibold text-blue-500 hover:underline",to:"/auth/register",children:"Sign Up"})]})]})]})};export{q as default};
